// Code generated by protoc-gen-ts_proto. DO NOT EDIT.
// versions:
//   protoc-gen-ts_proto  v2.6.1
//   protoc               v5.29.3
// source: coupon_stream.proto

/* eslint-disable */
import { GrpcMethod, GrpcStreamMethod } from "@nestjs/microservices";
import { Observable } from "rxjs";

export const protobufPackage = "coupon";

export interface StatusFilter {
  /** List of statuses to filter, e.g., 'active', 'suspended', 'ended' */
  statuses: string[];
}

export interface CouponIssue {
  id: string;
  status: string;
  updatedAt: number;
}

export interface ExpiredCouponFilter {
  userId: string;
  statuses: string[];
}

export interface ExpiredCouponIssue {
  id: string;
  expireAt: number;
  code: string;
  status: string;
}

export interface UserFilter {
  userId: string;
}

export interface MoreCouponRequest {
  id: string;
  userId: string;
  couponIssueId: string;
  createdAt: number;
  parentId: string;
}

export interface CouponStatusFilter {
  userId: string;
  status: string;
}

export interface UserCoupon {
  id: string;
  code: string;
  status: string;
  expireAt: number;
  purchasedAt: number;
  redeemedAt: number;
  purchaseCurrency: string;
  purchasePrice: number;
  userId: string;
  businessId: string;
  redeemedBySelfActivation: boolean;
}

export interface EmptyRequest {
}

export interface CouponIssueWithBusiness {
  couponIssueId: string;
  businessId: string;
  couponName: string;
  businessName: string;
  status: string;
}

export const COUPON_PACKAGE_NAME = "coupon";

export interface CouponStreamServiceClient {
  streamCouponIssues(request: StatusFilter): Observable<CouponIssue>;

  streamExpiredCoupons(request: ExpiredCouponFilter): Observable<ExpiredCouponIssue>;

  streamMoreCouponRequests(request: UserFilter): Observable<MoreCouponRequest>;

  getCouponsByStatus(request: CouponStatusFilter): Observable<UserCoupon>;

  activeCouponIssuesWithBusinessesStream(request: EmptyRequest): Observable<CouponIssueWithBusiness>;
}

export interface CouponStreamServiceController {
  streamCouponIssues(request: StatusFilter): Observable<CouponIssue>;

  streamExpiredCoupons(request: ExpiredCouponFilter): Observable<ExpiredCouponIssue>;

  streamMoreCouponRequests(request: UserFilter): Observable<MoreCouponRequest>;

  getCouponsByStatus(request: CouponStatusFilter): Observable<UserCoupon>;

  activeCouponIssuesWithBusinessesStream(request: EmptyRequest): Observable<CouponIssueWithBusiness>;
}

export function CouponStreamServiceControllerMethods() {
  return function (constructor: Function) {
    const grpcMethods: string[] = [
      "streamCouponIssues",
      "streamExpiredCoupons",
      "streamMoreCouponRequests",
      "getCouponsByStatus",
      "activeCouponIssuesWithBusinessesStream",
    ];
    for (const method of grpcMethods) {
      const descriptor: any = Reflect.getOwnPropertyDescriptor(constructor.prototype, method);
      GrpcMethod("CouponStreamService", method)(constructor.prototype[method], method, descriptor);
    }
    const grpcStreamMethods: string[] = [];
    for (const method of grpcStreamMethods) {
      const descriptor: any = Reflect.getOwnPropertyDescriptor(constructor.prototype, method);
      GrpcStreamMethod("CouponStreamService", method)(constructor.prototype[method], method, descriptor);
    }
  };
}

export const COUPON_STREAM_SERVICE_NAME = "CouponStreamService";
